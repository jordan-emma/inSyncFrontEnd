import{_ as m,o as i,c as n,a as e,n as l,h as d,j as c,d as h,p as g,f as p}from"./index-Dqb5m3_V.js";const b={data(){return{showRoomCodeField:!0,name:this.$userStore.name,code:""}},created(){this.$clueStore.clear(),this.$gameStore.clear()},computed:{buttonClass(){return o=>{if(o==="host")return this.showRoomCodeField?"underlineButton":"currentPageButton";if(o==="join")return this.showRoomCodeField?"currentPageButton":"underlineButton"}}},methods:{toggleBack(){this.$router.push("/landing")},async startGame(){this.$loading.yes();try{this.showRoomCodeField?await this.joinGame():await this.createGame()}catch{this.$error("Failed to start game.")}this.$loading.no()},async createGame(){try{await this.$gameStore.hostGame(this.name),this.$router.push("/lobby")}catch{this.$error("Failed to make game.")}},async joinGame(){if(this.code.length!==6){this.$error("Invalid code, please try again!");return}try{await this.$gameStore.joinGame(this.name,this.code),this.$router.push("/lobby"),this.$success("Game joined!")}catch{this.$error("Failed to join game. Please check your game code and try again!")}}}},u=o=>(g("data-v-951f7626"),o=o(),p(),o),C={class:"purpleBackground"},y={class:"pageContainer"},f={class:"back"},_={class:"underlineButtonContainer"},k={key:0,class:"form-group"},w=u(()=>e("label",{for:"roomCode"},"Room code:",-1)),G={class:"form-group"},v=u(()=>e("label",{for:"yourName"},"Your name:",-1)),B={class:"button-container"};function S(o,t,F,j,s,r){return i(),n("div",C,[e("div",y,[e("div",f,[e("button",{class:"rounded-button",onClick:t[0]||(t[0]=(...a)=>r.toggleBack&&r.toggleBack(...a)),"aria-label":"Go back to landing page"}," Back ")]),e("div",_,[e("button",{class:l(r.buttonClass("join")),onClick:t[1]||(t[1]=a=>s.showRoomCodeField=!0),"aria-label":"Switch to Join Game mode"}," Join Game ",2),e("button",{class:l(r.buttonClass("host")),onClick:t[2]||(t[2]=a=>s.showRoomCodeField=!1),"aria-label":"Switch to Host Game mode"}," Host Game ",2)]),s.showRoomCodeField?(i(),n("div",k,[w,d(e("input",{id:"roomCode",type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>s.code=a),"aria-label":"Enter room code"},null,512),[[c,s.code]])])):h("",!0),e("div",G,[v,d(e("input",{id:"yourName",type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>s.name=a),"aria-label":"Enter your name"},null,512),[[c,s.name]])]),e("div",B,[e("button",{class:"rounded-button",onClick:t[5]||(t[5]=(...a)=>r.startGame&&r.startGame(...a)),"aria-label":"Start the game"}," Let's Play ")])])])}const $=m(b,[["render",S],["__scopeId","data-v-951f7626"]]);export{$ as default};
