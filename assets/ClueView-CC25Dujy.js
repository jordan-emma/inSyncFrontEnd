import{S as C}from"./slider-DuPy7X3d.js";import{_ as m,o as r,c as n,a as l,b as f,w as _,T as k,i as v,d as u,t as d,e as x,p as b,f as p,r as g,h as S,j as I}from"./index-B8jtT4aK.js";import{_ as N}from"./close-DwFJZgnv.js";const B="/inSyncFrontEnd/assets/waitingIcon-DSmlNhjW.png",T={props:{show:{type:Boolean,default:!1},header:{type:String,default:""},blocks:{type:Array,default:[]}},data(){return{currentIndex:0,shuffledBlocks:this.shuffleBlocks(this.blocks)}},methods:{close(t){t.target.className==="container"&&this.exit()},exit(){this.$emit("close")},nextSlide(){this.currentIndex<this.shuffledBlocks.length-1?this.currentIndex++:this.currentIndex=0},prevSlide(){this.currentIndex>0?this.currentIndex--:this.currentIndex=this.shuffledBlocks.length-1},shuffleBlocks(t){let e=t.slice();for(let o=e.length-1;o>0;o--){const h=Math.floor(Math.random()*(o+1));[e[o],e[h]]=[e[h],e[o]]}return e}}},y=t=>(b("data-v-ae2add22"),t=t(),p(),t),L={class:"header"},M={class:"closeButton"},j=y(()=>l("img",{class:"waitingIcon",src:B,alt:"Waiting Icon"},null,-1)),F=y(()=>l("h2",null,"Waiting for other players...",-1)),O=["innerHTML"],P={class:"carousel"},E={class:"button-container"};function W(t,e,o,h,s,i){return o.show?(r(),n("div",{key:0,class:"container",onClick:e[4]||(e[4]=(...a)=>i.close&&i.close(...a))},[l("div",{class:"content",onClick:e[3]||(e[3]=v(()=>{},["stop"]))},[l("div",L,[l("div",M,[l("img",{src:N,onClick:e[0]||(e[0]=(...a)=>i.exit&&i.exit(...a)),alt:"Close"})]),j,F]),l("p",{class:"objective",innerHTML:o.header},null,8,O),l("div",P,[f(k,{name:"fade",mode:"out-in"},{default:_(()=>[(r(),n("div",{class:"whiteBox",key:s.currentIndex},[l("p",null,[l("b",null,d(s.shuffledBlocks[s.currentIndex].title)+": ",1),x(d(s.shuffledBlocks[s.currentIndex].body),1)])]))]),_:1}),l("div",E,[l("button",{class:"prev",onClick:e[1]||(e[1]=(...a)=>i.prevSlide&&i.prevSlide(...a))},"<"),l("button",{class:"next",onClick:e[2]||(e[2]=(...a)=>i.nextSlide&&i.nextSlide(...a))},">")])])])])):u("",!0)}const D=m(T,[["render",W],["__scopeId","data-v-ae2add22"]]),V={components:{Slider:C,FunFactsModal:D},data(){return{currentClue:"",clueNumber:1,clueObject:{},gotClue:!1,maxClues:3,waiting:!1,submittedLastClue:!1,showModal:!1,modalTitle:"Some fun facts while you wait!",modalBlocks:[{title:"Waiting for Food",body:"Did you know that the average person spends about 6 months of their life waiting in line for food?"},{title:"Patience Pays Off",body:"The idea for the Post-it Note came while waiting for glue to dry."},{title:"Waiting for Emails",body:"The average office worker spends about 28% of their workweek reading and responding to emails."},{title:"Longest Wait",body:"The longest recorded wait for a traffic light to change is 45 minutes!"},{title:"Corn Flakes",body:"Cornflakes were invented by Dr. John Harvey Kellogg and his brother Will Keith Kellogg while they were waiting for their experiment with wheat to cool. They accidentally discovered that corn could be toasted into flakes instead."},{title:"Potato Chips",body:"Potato chips were created by George Crum while waiting for a customer to return a dish of French fries. The customer complained that the fries were too soggy, so Crum decided to make them crispy by frying them thinly."},{title:"Teflon",body:"Teflon was discovered by accident by Roy Plunkett while waiting for a reaction in a container of gases. Instead of the expected chemical reaction, he found a slippery substance that became Teflon."},{title:"Play-Doh",body:"Play-Doh was originally developed as a wallpaper cleaner, but it was found to be useful as a modeling compound while waiting for it to dry and crack. It was later repurposed as a childrenâ€™s toy."},{title:"Penicillin",body:"Alexander Fleming discovered penicillin while waiting for his bacterial cultures to grow. He noticed that a mold contaminant was killing the bacteria, leading to the discovery of the first antibiotic."}]}},created(){!this.$userStore.isLoggedIn&&this.$gameStore.empty||this.getClue()},watch:{clueObject(){this.currentClue=this.clueObject.clue??""},clueNumber(){this.getClue(),this.onLastClue&&(this.waiting=!0)},$gameStore:{deep:!0,handler(){var t,e;((e=(t=this.$gameStore)==null?void 0:t.game)==null?void 0:e.status)==="GUESSING"&&this.$router.push("/guess")}},submittedLastClue(t){t&&(this.showModal=!0)}},computed:{isClueEntered(){return this.currentClue.trim()!==""},onLastClue(){return this.clueNumber===this.maxClues}},methods:{async addClue(){this.$loading.yes();let t=this.currentClue.trim();if(!t)return;(await this.$axios.post(`/clue/${this.clueObject.id}/prompt`,{prompt:t})).status!==200?alert("Failed to add clue"):this.onLastClue&&(this.submittedLastClue=!0),this.$loading.no()},async getClue(t=!1){if(this.$gameStore.empty)return;this.$loading.yes();let e=`/game/${this.$gameStore.game.id}/clue/${this.clueNumber}`;t&&(e=`/clue/${this.clueObject.id}/refresh`);try{let o=await this.$axios.get(e);if(o.status!==200)throw"Failed to get clue";this.clueObject=o.data,this.gotClue=!0}catch(o){console.log(o)}finally{this.$loading.no()}},async changeClueNumber(t){await this.addClue(),this.clueNumber=t?this.clueNumber+1:this.clueNumber-1},toggleBack(){this.$router.push("/play")},capitalizeString(t){return t.charAt(0).toUpperCase()+t.slice(1)},toggleModal(){this.showModal=!this.showModal}}},H=t=>(b("data-v-3a547005"),t=t(),p(),t),z={class:"purpleBackground"},A={class:"pageContainer"},G={class:"back"},K={key:0,class:"pageHeading"},U=H(()=>l("h2",null,"Type a Clue",-1)),J=[U],R={key:1,class:"slider-wrapper"},q={class:"clueScalePhrase2"},Q={class:"clueScalePhrase1"},X={key:2},Y={class:"form-group"},Z={class:"button-container"},$=["disabled"],ee={key:0,class:"waiting"},te={key:3};function se(t,e,o,h,s,i){const a=g("Slider"),w=g("FunFactsModal");return r(),n("div",z,[l("div",A,[l("div",G,[l("button",{class:"rounded-button",onClick:e[0]||(e[0]=(...c)=>i.toggleBack&&i.toggleBack(...c))},"Exit")]),s.submittedLastClue?u("",!0):(r(),n("div",K,J)),s.gotClue&&!s.submittedLastClue?(r(),n("div",R,[l("p",q,d(i.capitalizeString(s.clueObject.low)),1),f(a,{max:s.clueObject.max_value,value:s.clueObject.value,disabled:!0},null,8,["max","value"]),l("p",Q,d(i.capitalizeString(s.clueObject.high)),1)])):u("",!0),s.submittedLastClue?u("",!0):(r(),n("section",X,[l("div",Y,[S(l("input",{id:"clueField",type:"text","onUpdate:modelValue":e[1]||(e[1]=c=>s.currentClue=c),placeholder:"Enter your clue...",maxlength:"120"},null,512),[[I,s.currentClue]])]),l("div",Z,[l("button",{class:"rounded-button",onClick:e[2]||(e[2]=c=>i.getClue(!0))},"New Scale"),s.clueNumber<s.maxClues?(r(),n("button",{key:0,class:"rounded-button",disabled:!i.isClueEntered,onClick:e[3]||(e[3]=c=>i.changeClueNumber(!0))},"Next Clue",8,$)):u("",!0),i.onLastClue?(r(),n("button",{key:1,class:"rounded-button",onClick:e[4]||(e[4]=(...c)=>i.addClue&&i.addClue(...c))},"Submit")):u("",!0)])])),l("div",null,[s.submittedLastClue?(r(),n("p",ee,"Waiting for other players...")):u("",!0)]),f(w,{show:s.showModal,header:s.modalTitle,blocks:s.modalBlocks,onClose:i.toggleModal},null,8,["show","header","blocks","onClose"]),s.submittedLastClue?u("",!0):(r(),n("h2",te,d(s.clueNumber)+"/3",1))])])}const re=m(V,[["render",se],["__scopeId","data-v-3a547005"]]);export{re as default};
