import{_ as u,o as i,c as n,a as e,n as l,h as d,j as m,d as h,p as g,f as b}from"./index-BdN7wDRo.js";const p={data(){return{showRoomCodeField:!0,name:this.$userStore.name,code:""}},created(){this.$clueStore.clear(),this.$gameStore.clear()},computed:{buttonClass(){return a=>{if(a==="host")return this.showRoomCodeField?"underlineButton":"currentPageButton";if(a==="join")return this.showRoomCodeField?"currentPageButton":"underlineButton"}}},methods:{toggleGameMode(){this.showRoomCodeField=!this.showRoomCodeField},toggleBack(){this.$router.push("/landing")},async startGame(){this.$loading.yes();try{this.showRoomCodeField?await this.joinGame():await this.createGame()}catch{this.$error("Failed to start game.")}this.$loading.no()},async createGame(){try{await this.$gameStore.hostGame(this.name),this.$router.push("/lobby")}catch{this.$error("Failed to make game.")}},async joinGame(){if(this.code.length!==6){this.$error("Invalid code, please try again!");return}try{await this.$gameStore.joinGame(this.name,this.code),this.$router.push("/lobby"),this.$success("Game joined!")}catch{this.$error("Failed to join game. Please check your game code and try again!")}}}},c=a=>(g("data-v-eb47af9a"),a=a(),b(),a),C={class:"purpleBackground"},G={class:"pageContainer"},y={class:"back"},_={class:"underlineButtonContainer"},f={key:0,class:"form-group"},k=c(()=>e("label",{for:"roomCode"},"Room code:",-1)),w={class:"form-group"},B=c(()=>e("label",{for:"yourName"},"Your name:",-1)),v={class:"button-container"};function S(a,t,F,j,r,s){return i(),n("div",C,[e("div",G,[e("div",y,[e("button",{class:"rounded-button",onClick:t[0]||(t[0]=(...o)=>s.toggleBack&&s.toggleBack(...o)),"aria-label":"Go back to landing page"}," Back ")]),e("div",_,[e("button",{class:l(s.buttonClass("join")),onClick:t[1]||(t[1]=(...o)=>s.toggleGameMode&&s.toggleGameMode(...o)),"aria-label":"Switch to Join Game mode"}," Join Game ",2),e("button",{class:l(s.buttonClass("host")),onClick:t[2]||(t[2]=(...o)=>s.toggleGameMode&&s.toggleGameMode(...o)),"aria-label":"Switch to Host Game mode"}," Host Game ",2)]),r.showRoomCodeField?(i(),n("div",f,[k,d(e("input",{id:"roomCode",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>r.code=o),"aria-label":"Enter room code"},null,512),[[m,r.code]])])):h("",!0),e("div",w,[B,d(e("input",{id:"yourName",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>r.name=o),"aria-label":"Enter your name"},null,512),[[m,r.name]])]),e("div",v,[e("button",{class:"rounded-button",onClick:t[5]||(t[5]=(...o)=>s.startGame&&s.startGame(...o)),"aria-label":"Start the game"}," Let's Play ")])])])}const x=u(p,[["render",S],["__scopeId","data-v-eb47af9a"]]);export{x as default};
